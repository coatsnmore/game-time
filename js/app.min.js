define("main",["pixi"],function(a){function b(){requestAnimFrame(b),i.applyFriction(),h.position.x+=i.getVelocity(),h.position.y+=i.getVelocityY(),f.render(e)}var c=function(){function a(a){a.position.x=200,a.position.y=150,a.anchor.x=.5,a.anchor.y=.5,b.velocity=0,b.sprite=a,b.velocityY=0,b.jumping=!1}var b=this;return a.prototype.applyFriction=function(){b.velocity=.93*b.velocity,Math.abs(b.velocity)<.1&&(b.velocity=0)},a.prototype.right=function(){(b.velocity>=0||b.velocity>=-.5)&&(b.velocity<=2&&(b.velocity=2),b.velocity=1.5*b.velocity)},a.prototype.left=function(){(b.velocity<=0||b.velocity<=.5)&&(b.velocity>=-2&&(b.velocity=-2),b.velocity=1.5*b.velocity)},a.prototype.jump=function(){console.log("jump"),console.log("!thisPlayer.jumping: "+!b.jumping),b.jumping||(b.jumping=!0,b.velocityY=-4,setTimeout(function(){b.velocityY=4,setTimeout(function(){b.velocityY=0},100)},100),b.jumping=!1)},a.prototype.getVelocity=function(){return b.velocity},a.prototype.getVelocityY=function(){return b.velocityY},a}(),d=!0,e=new a.Stage(16777215,d),f=new a.autoDetectRenderer(800,480);f.view.style.display="block",document.body.appendChild(f.view),requestAnimFrame(b);var g=a.Texture.fromImage("assets/man.png"),h=new a.Sprite(g),i=(h.position.x,new c(h));e.addChild(h),document.onkeydown=function(a){var b={37:i.left,39:i.right,32:i.jump};a=a||window.event,b[a.keyCode]&&b[a.keyCode](),a.preventDefault()}}),function(a){define("pixi",function(){return a.PIXI})}(this);