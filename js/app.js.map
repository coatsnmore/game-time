{"version":3,"sources":["src/main.js","src/pixi.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtLA;AACA;AACA;AACA;AACA;AACA;AACA","file":"js/app.js","sourcesContent":["define('main', ['pixi'], function(PIXI) {\n    var Player = (function() {\n        var thisPlayer = this;\n\n        function Player(sprite) {\n            sprite.position.x = 200;\n            sprite.position.y = 150;\n            sprite.anchor.x = 0.5;\n            sprite.anchor.y = 0.5;\n            // sprite.alpha = 0.3;//between 0 and 1\n            thisPlayer.velocity = 0;\n            thisPlayer.sprite = sprite;\n            // makeInteractive(sprite);\n\n            thisPlayer.velocityY = 0;\n            thisPlayer.jumping = false;\n        }\n\n        Player.prototype.applyFriction = function() {\n            thisPlayer.velocity = thisPlayer.velocity * 0.93;\n            if (Math.abs(thisPlayer.velocity) < 0.1) {\n                thisPlayer.velocity = 0;\n            }\n        };\n\n        Player.prototype.right = function() {\n\n            if (thisPlayer.velocity >= 0 || thisPlayer.velocity >= -0.5) {\n                if (thisPlayer.velocity <= 2) {\n                    thisPlayer.velocity = 2;\n                }\n\n                thisPlayer.velocity = thisPlayer.velocity * 1.5;\n            }\n        };\n\n        Player.prototype.left = function() {\n\n            if (thisPlayer.velocity <= 0 || thisPlayer.velocity <= 0.5) {\n                if (thisPlayer.velocity >= -2) {\n                    thisPlayer.velocity = -2;\n                }\n\n                thisPlayer.velocity = thisPlayer.velocity * 1.5;\n            }\n        };\n\n        Player.prototype.jump = function() {\n\n          console.log(\"jump\");\n          console.log(\"!thisPlayer.jumping: \" + !thisPlayer.jumping);\n\n            if (!thisPlayer.jumping) {\n                thisPlayer.jumping = true;\n                thisPlayer.velocityY = -4;\n\n                setTimeout(function() {\n                    thisPlayer.velocityY = 4;\n                    setTimeout(function(){\n                      thisPlayer.velocityY = 0;\n                    },100);\n                }, 100);\n\n                // if(thisPlayer.velocityY >= 1){\n                //   thisPlayer.velocityY = 1;\n                // }else if (thisPlayer.velocityY <= -1){\n                //   thisPlayer.velocityY = 0;\n                // }\n\n                thisPlayer.jumping = false;\n            }\n        };\n\n\n\n        Player.prototype.getVelocity = function() {\n            return thisPlayer.velocity;\n        };\n\n        Player.prototype.getVelocityY = function() {\n            return thisPlayer.velocityY;\n        };\n\n        return Player;\n    })();\n\n    var interactive = true;\n    var stage = new PIXI.Stage(0xFFFFFF, interactive);\n    var renderer = new PIXI.autoDetectRenderer(800, 480);\n    renderer.view.style.display = 'block';\n\n    document.body.appendChild(renderer.view);\n\n    requestAnimFrame(animate);\n\n    var manTexture = PIXI.Texture.fromImage(\"assets/man.png\");\n    var man = new PIXI.Sprite(manTexture);\n    var xpos = man.position.x;\n    var player = new Player(man);\n\n    stage.addChild(man);\n\n    function animate() {\n        requestAnimFrame(animate);\n\n        //move player\n        // var actualVelocity = player.getVelocity();\n        player.applyFriction();\n        // man.position.x += actualVelocity;\n        man.position.x += player.getVelocity();\n        man.position.y += player.getVelocityY();\n\n        // if (xpos != man.position.x) {\n        //     xpos = man.position.x;\n        //     console.log(\"man.position.x: \" + man.position.x);\n        //     console.log(\"veloctiy: \" + player.velocity);\n        // }\n\n        renderer.render(stage);\n    }\n\n\n    function makeInteractive(mySprite) {\n\n        mySprite.setInteractive(true);\n\n        mySprite.mouseover = function(mouseData) {\n            console.log(\"MOUSE OVER!\");\n        };\n\n        mySprite.mouseout = function(mouseData) {\n            console.log(\"MOUSE OUT!\");\n        };\n\n        mySprite.mousedown = function(mouseData) {\n            console.log(\"MOUSE DOWN!\");\n        };\n\n        mySprite.mouseup = function(mouseData) {\n            console.log(\"MOUSE UP!\");\n        };\n\n        mySprite.click = function(mouseData) {\n            console.log(\"CLICK!\");\n        };\n\n        mySprite.touchstart = function(touchData) {\n            console.log(\"TOUCH START!\");\n        };\n\n        mySprite.touchend = function(touchData) {\n            console.log(\"TOUCH END!\");\n        };\n\n        mySprite.tap = function(touchData) {\n            console.log(\"TAP!\");\n        };\n    }\n\n    document.onkeydown = function(e) {\n        //37 left\n        //38 up\n        //39 right\n        //40 down\n        //32 space\n\n        var keyMap = {\n            37: player.left,\n            39: player.right,\n            32: player.jump\n        };\n\n        e = e || window.event;\n\n        // console.log(\"keyCode: \" + e.keyCode);\n        if (keyMap[e.keyCode]) {\n            keyMap[e.keyCode]();\n        }\n\n        e.preventDefault();\n    };\n});\n","(function(root) {\r\n  define('pixi', function() {\r\n    return root.PIXI;\r\n  });  \r\n})(this);\r\n\r\n"]}